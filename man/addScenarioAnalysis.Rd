% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/FinancialModel.R
\name{addScenarioAnalysis}
\alias{addScenarioAnalysis}
\title{addScenarioAnalysis() starts a risk Scenario Analysis for a Financial Model
 This function creates a new ScenarioAnalysis and adds it to the list of 
 analyses in the Financial Model. Input parameters are: (1) the financial
 model ( providing portfolio, timeline and serverURL specifiations), (2)
 the scenarioID for the new scenario (3) a list of projected future values of 
 market indexes needed to compute cashflows for (variable rate) contracts in
 the financial Model portfolio, and (4) optionally a YieldCurve to be used 
 in discounting cashflows for valuation. The newScenarioAnalysis is set as 
 the currentScenarioAnalysis attribute of the Financial Model and used by 
 default in all analysis requests to the Financial Model until an alternate
 ScenarioAnalyis is introduced with a further addScenarioAnalysis request
 or an explicit setCurrentScenarioAnlysis() request is made. The method
 returns a log message indicating success or failure}
\usage{
addScenarioAnalysis(
  fm = FinancialModel(),
  scnID = " ",
  rfxs = list(),
  yc = YieldCurve()
)
}
\arguments{
\item{fm}{S4 FinancialModel object to receive the new ScenarioAnalysis}

\item{scnID}{character string uniquely identifying this new risk scenario}

\item{rfxs}{list of Reference Indexes projected future market data values}

\item{yc}{optional YieldCurve to be used for discounting cashflows}
}
\value{
character string log message reporting on success of request
}
\description{
addScenarioAnalysis() starts a risk Scenario Analysis for a Financial Model
 This function creates a new ScenarioAnalysis and adds it to the list of 
 analyses in the Financial Model. Input parameters are: (1) the financial
 model ( providing portfolio, timeline and serverURL specifiations), (2)
 the scenarioID for the new scenario (3) a list of projected future values of 
 market indexes needed to compute cashflows for (variable rate) contracts in
 the financial Model portfolio, and (4) optionally a YieldCurve to be used 
 in discounting cashflows for valuation. The newScenarioAnalysis is set as 
 the currentScenarioAnalysis attribute of the Financial Model and used by 
 default in all analysis requests to the Financial Model until an alternate
 ScenarioAnalyis is introduced with a further addScenarioAnalysis request
 or an explicit setCurrentScenarioAnlysis() request is made. The method
 returns a log message indicating success or failure
}
\examples{
{
  fmID       <- "fm001"
  fmDescr    <- "test Financial Model logic with example"
  entprID    <- "modelBank01"
  currency   <- "USD"
  serverURL  <- "https://demo.actusfrf.org:8080/" 
  yamlstring <- paste0("\nname:  a Model Bank\nAssets:\n  Current:\n     actusCIDs:\n",
   "        - pam001\n        - pam002\n        - ann003\n  ShortTerm:\n",
   "     actusCIDs:\n        - pam004\n        - ann005\n  LongTerm:\n",
   "     functionIDs:\n        - edf006\nLiabilities:\n  Debt:\n     actusCIDs:\n",
   "        - pam007\n  Equity:\nOperations:\n  Cashflows:\n     functionIDs:\n",
   "        - ocf008\n")
  accountsTree <- AccountsTree(yamlstring)
  mydatadir <- "~/mydata"
  installSampleData(mydatadir)
  cdfn  <- "~/mydata/TestPortfolio.csv"
  ptf   <-  samplePortfolio(cdfn)
  tl <- Timeline(statusDate = "2023-01-01", monthsPerPeriod = 6, 
                 reportCount=3, periodCount = 6)  
  fm <- initFinancialModel(fmID=fmID, fmDescr= fmDescr, entprID = entprID,
                  accntsTree = accountsTree, ptf = ptf, curr = currency,
                  timeline = tl, serverURL = serverURL) 
  rxdfp <- paste0(mydatadir,"/UST5Y_fallingRates.csv")
  rfx <- sampleReferenceIndex(rxdfp,"UST5Y_fallingRates", "YC_EA_AAA",100)
  marketData <-list(rfx)
  msg <- addScenarioAnalysis(fm = fm, scnID= "UST5Y_fallingRates", 
                             rfxs = marketData, yc = YieldCurve())                
}
}
